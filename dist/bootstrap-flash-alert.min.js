!function(t){t.alert_ext={defaults:{autoClose:!0,closeTime:5e3,withTime:!1,type:"danger",position:["center",[-.42,0]],title:!1,icon:!1,close:"",speed:"normal",isOnly:!0,minTop:10,animation:!1,animShow:"fadeIn",animHide:"fadeOut",onShow:function(){},onClose:function(){}},tmpl:'<div class="alert alert-dismissable ${State}"><button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button><div class="header"><div class="icon">${Icon}</div><strong>${Title}</strong><p>${Content}</p></div></div>',init:function(i,s){return this.options=t.extend({},this.defaults,s),this.create(i),this.set_css(),this.bind_event(),this.alertDiv},template:function(i,s){return t.each(s,function(t,s){i=i.replace("${"+t+"}",s)}),t(i)},create:function(i){this.alertDiv=this.template(this.tmpl,{State:"alert-"+this.options.type,Title:this.options.title,Icon:'<span class="'+this.options.icon+'"></span>',Content:i}).hide(),t(".header",this.alertDiv).css("float","right"),t("p",this.alertDiv).css("display","block"),t("p",this.alertDiv).css("white-space","nowrap"),this.options.title?(t("strong",this.alertDiv).css("display","inline-block"),t("strong",this.alertDiv).css("white-space","nowrap")):t("strong",this.alertDiv).remove(),this.options.icon?(t(".icon",this.alertDiv).css("float","left"),t(".icon",this.alertDiv).css("margin-right","15px"),t(".icon",this.alertDiv).css("margin-top","7px"),t("p",this.alertDiv).css("margin-right","40px")):t("span",this.alertDiv).remove(),this.options.icon&&!this.options.title&&(t("p",this.alertDiv).css("display","inline"),t(".icon",this.alertDiv).css("margin-top","-1px")),this.options.isOnly&&t("body > .alert").remove(),this.alertDiv.appendTo(t("body"))},set_css:function(){var i=this.alertDiv;i.css({position:"fixed","z-index":10001+t(".alert").length});var s=0;t.browser&&t.browser.msie&&"6.0"==t.browser.version&&(i.css("position","absolute"),s=t(window).scrollTop());var e=this.options.position,o=e[0].split("-"),n=[0,0];e.length>1&&(n=e[1]),n[0]>-1&&n[0]<1&&(n[0]=n[0]*t(window).height()),n[1]>-1&&n[1]<1&&(n[1]=n[1]*t(window).width());for(var r in o)if("string"===t.type(o[r])){var a=o[r].toLowerCase();t.inArray(a,["left","right"])>-1?i.css(a,n[1]):t.inArray(a,["top","bottom"])>-1?i.css(a,n[0]+s):i.css({top:(t(window).height()-i.outerHeight())/2+n[0]+s,left:(t(window).width()-i.outerWidth())/2+n[1]})}parseInt(i.css("top"))<this.options.minTop&&i.css("top",this.options.minTop)},bind_event:function(){this.bind_show(),this.bind_close(),t.browser&&t.browser.msie&&"6.0"==t.browser.version&&this.bind_scroll()},bind_show:function(){var i=this.alertDiv,s=this.options;setTimeout(function(){s.onShow(t(this)),s.animation?i.addClass("animated "+s.animShow).show():i.show()},s.speed)},bind_close:function(){var i=this.alertDiv,s=this.options,e=t(".close",i).add(t(this.options.close,i));if(e.bind("click",function(e){i.fadeOut(s.speed,function(){t(this).remove(),s.onClose(t(this))}),e.stopPropagation()}),this.options.autoClose){var o=parseInt(this.options.closeTime/1e3);this.options.withTime&&t("p",i).append("<span>...<em>"+o+"</em></span>");var n=setInterval(function(){t("em",i).text(--o),o||(s.animation&&i.removeClass(s.animShow).addClass(s.animHide),clearInterval(n),e.trigger("click"))},1e3)}},bind_scroll:function(){var i=this.alertDiv,s=i.offset().top-t(window).scrollTop();t(window).scroll(function(){i.css("top",s+t(window).scrollTop())})},check_mobile:function(){var t=navigator.userAgent,i=["Android","iPhone","iPod","iPad","Windows Phone","MQQBrowser"];for(var s in i)if(t.indexOf(i[s])>-1)return i[s];return!1}},t.alert=function(i,s){return t.alert_ext.check_mobile()?void alert(i):t.trim(i).length?("string"===t.type(s)&&(s={title:s}),s&&"error"==s.type&&(s.type="danger"),t.alert_ext.init(i,s)):!1}}(jQuery);
